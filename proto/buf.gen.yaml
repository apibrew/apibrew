version: v1
plugins:
  - name: go
    out: ../pkg/
    opt:
      - paths=source_relative
#  - name: ts
#    out: ../sdk/nodejs/src/dh-client
#    opt:
#      - no_namespace
#      - json_names
  - name: js
    out: ../sdk/nodejs/src/dh-client
    opt: import_style=commonjs,binary
  - name: grpc
    out: ../sdk/nodejs/src/dh-client
    opt: grpc_js
  - name: go-grpc
    out: ../pkg/
    opt:
      - paths=source_relative
  - name: grpc-gateway
    out: ../pkg/
    opt:
      - paths=source_relative
      - allow_delete_body=true
  - name: openapi
    strategy: all
    out: ../pkg/server/rest
  - name: doc
    strategy: all
    out: ../docs/content/
    opt: ../docs/content/proto.tmpl,proto.md