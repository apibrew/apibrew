syntax = "proto3";

package model;

option go_package = "github.com/tislib/data-handler/pkg/model";

import 'model/audit.proto';
import 'model/common.proto';
import 'model/external.proto';

message Extension {
  string id = 1;
  string name = 2;
  string description = 3;
  string namespace = 5;
  string resource = 6;

  message After {
    ExternalCall all = 1;
    ExternalCall create = 2;
    ExternalCall update = 3;
    ExternalCall delete = 4;
    ExternalCall get = 5;
    ExternalCall list = 6;
    bool sync = 7; // if true, it will wait
  }

  message Before {
    ExternalCall all = 1;
    ExternalCall create = 2;
    ExternalCall update = 3;
    ExternalCall delete = 4;
    ExternalCall get = 5;
    ExternalCall list = 6;
    bool sync = 7; // if true, it will wait
  }

  message Instead {
    ExternalCall all = 1;
    ExternalCall create = 2;
    ExternalCall update = 3;
    ExternalCall delete = 4;
    ExternalCall get = 5;
    ExternalCall list = 6;
  }

  Before before = 7;
  Instead instead = 8;
  After after = 9;

  AuditData auditData = 101;
  uint32 version = 102;
}