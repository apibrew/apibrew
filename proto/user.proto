syntax = "proto3";

package stub;

option go_package = "data-handler/grpc/stub";

import 'model/error.proto';
import 'model/user.proto';
import 'model/query.proto';

service UserService {
  rpc Create(CreateUserRequest) returns(CreateUserResponse) {}
  rpc Update(UpdateUserRequest) returns(UpdateUserResponse) {}
  rpc Delete(DeleteUserRequest) returns(DeleteUserResponse) {}
  rpc List(ListUserRequest) returns(ListUserResponse) {}
  rpc Get(GetUserRequest) returns (GetUserResponse) {}
}

message CreateUserRequest {
  string token = 1;
  repeated model.User users = 2;
}

message CreateUserResponse {
  repeated model.User users = 1;

  model.Error error = 2;
}

message UpdateUserRequest {
  string token = 1;
  repeated model.User users = 2;
}

message UpdateUserResponse {
  repeated model.User users = 1;

  model.Error error = 2;
}


message DeleteUserRequest {
  string token = 1;
  repeated string ids = 2;
}

message DeleteUserResponse {
  model.Error error = 2;
}

message ListUserRequest {
  string token = 1;

  model.BooleanExpression query = 3;
  uint32 limit = 4;
  uint64 offset = 5;
}

message ListUserResponse {
  repeated model.User content = 1;

  model.Error error = 2;
}

message GetUserRequest {
  string token = 1;
  string id = 2;
}

message GetUserResponse {
  model.User user = 1;

  model.Error error = 2;
}